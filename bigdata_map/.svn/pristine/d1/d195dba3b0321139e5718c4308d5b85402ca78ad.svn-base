<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>秦皇岛市智慧交通北斗大数据分析平台</title>
    <link href="css/animate.min.css" rel="stylesheet" type="text/css">
    <link href="css/layout.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="font/iconfont.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="css/datedropper.css">
    <link rel="stylesheet" type="text/css" href="css/timedropper.min.css">
    <script src="js/tool.js"></script>
    <script src="js/layer/layer.js"></script>
    <script type="text/javascript" src="js/laydate/laydate.js"></script>
    <style type="text/css">
        .el-radio-button__inner {
            line-height: 1;
            white-space: nowrap;
            vertical-align: middle;
            background: #00000000;
            border: 1px solid #1f6794;
            font-weight: 500;
            border-left: 0;
            color: #77eaff;
            -webkit-appearance: none;
            text-align: center;
            box-sizing: border-box;
            margin: 0;
            cursor: pointer;
            transition: all .3s cubic-bezier(.645,.045,.355,1);
            padding: 12px 20px;
            font-size: 14px;
            border-radius: 0;
        }
        .el-radio-button, .el-radio-button__inner {
            display: inline-block;
            position: relative;
            outline: 0;
        }
        .el-radio-button--medium .el-radio-button__inner {
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 0;
        }
        .el-radio-button:first-child .el-radio-button__inner {
            border-left: 1px solid #1f6794;
            border-radius: 4px 0 0 4px;
            box-shadow: none!important;
        }
        .el-radio-button__orig-radio {
            opacity: 0;
            outline: 0;
            position: absolute;
            z-index: -1;
        }
        .el-radio-button, .el-radio-button__inner {
            display: inline-block;
            position: relative;
            outline: 0;
        }
        .el-radio-group {
            display: inline-block;
            line-height: 1;
            vertical-align: middle;
            font-size: 0;
        }
        .el-row {
            box-sizing: border-box;
        }

        .tab0 .nav-tabs0{
            padding-left: 15px;
            border-bottom: 4px solid #026C9C;
        }
        .tab0 .nav-tabs0 li a{
            color: #fff;
            padding: 8px 40px;
            margin-right: 10px;
            background: #026C9C;
            text-shadow: 1px 1px 2px #000;
            border: none;
            float: left;
            border-radius: 0;
            opacity: 0.5;
            position: relative;
            transition: all 0.3s ease 0s;
        }
        .tab0 .nav-tabs0 li a:hover{
            background: #026C9C;
            opacity: 0.8;
        }
        .tab0 .nav-tabs0 li.active a{
            opacity: 1;
        }
        .tab0 .nav-tabs0 li.active a,
        .tab0 .nav-tabs0 li.active a:hover,
        .tab0 .nav-tabs0 li.active a:focus{
            color: #fff;
            background: #026C9C;
            border: none;
            border-radius: 0;
        }
        .tab0 .nav-tabs0 li a:before,
        .tab0 .nav-tabs0 li a:after{
            content: "";
            border-top: 42px solid transparent;
            position: absolute;
            top: -2px;
        }
        .tab0 .nav-tabs0 li a:before{
            border-right: 15px solid #026C9C;
            left: -15px;
        }
        .tab0 .nav-tabs0 li a:after{
            border-left: 15px solid #026C9C;
            right: -15px;
        }
        .tab0 .nav-tabs0 li a i,
        .tab0 .nav-tabs0 li.active a i{
            display: inline-block;
            padding-right: 5px;
            font-size: 17px;
            text-shadow: none;
        }
        .tab0 .nav-tabs0 li a span{
            display: inline-block;
            font-size: 17px;
            letter-spacing: -3px;

            transition: all 0.3s ease 0s;
        }
        .tab0 .nav-tabs0 li a:hover span,
        .tab0 .nav-tabs0 li.active a span{
            letter-spacing: 5px;
            opacity: 1;
            transition: all 0.3s ease 0s;
        }
        .tab0 .tab-content0{
            padding: 30px;
            background: #fff;
            font-size: 16px;
            color: #6c6c6c;
            line-height: 25px;
        }
        .tab0 .tab-content0 h3{
            font-size: 24px;
            margin-top: 0;
        }
        .chaxun1 { padding:14px 47px !important;margin-left:4.5%;margin-top:1.6%;border-radius:3px;box-shadow:rgb(50, 151, 207) 0px 0px 38px inset; color:#77eaff!important; font-size:19px !important; border:1px solid #52d5ff !important; text-decoration:none}
        .chaxun1:hover{box-shadow:rgb(226, 120, 78) 0px 0px 38px inset; border:1px solid #ffdab5 !important; color:#fffffd !important; text-decoration:none}

        @media only screen and (max-width: 479px){
            .tab0 .nav-tabs0 li{
                width: 100%;
                margin-bottom: 5px;
                text-align: center;
            }
            .tab0 .nav-tabs0 li a span{
                letter-spacing: 1px;
                opacity: 1;
            }
        }
    </style>
</head>

<body>

<div class="top" >
    <div class="top_r">
        <div class="time">
            <!--<input type="text" class="input_rl " id="pickdate" style="width:150px; height: 48px; margin-right: 10px; " /> -->
            <span id=localtime></span>
            <script type="text/javascript">
                function showLocale(objD){
                    var str,colorhead,colorfoot;
                    var yy = objD.getYear();
                    if(yy<1900) yy = yy+1900;
                    var MM = objD.getMonth()+1;
                    if(MM<10) MM = '0' + MM;
                    var dd = objD.getDate();
                    if(dd<10) dd = '0' + dd;
                    var hh = objD.getHours();
                    if(hh<10) hh = '0' + hh;
                    var mm = objD.getMinutes();
                    if(mm<10) mm = '0' + mm;
                    var ss = objD.getSeconds();
                    if(ss<10) ss = '0' + ss;
                    var ww = objD.getDay();
                    if  ( ww==0 )  colorhead="<font color=\"#35afbd\">";
                    if  ( ww > 0 && ww < 6 )  colorhead="<font color=\"#35afbd\">";
                    if  ( ww==6 )  colorhead="<font color=\"#35afbd\">";
                    if  (ww==0)  ww="星期日";
                    if  (ww==1)  ww="星期一";
                    if  (ww==2)  ww="星期二";
                    if  (ww==3)  ww="星期三";
                    if  (ww==4)  ww="星期四";
                    if  (ww==5)  ww="星期五";
                    if  (ww==6)  ww="星期六";
                    colorfoot="</font>"
                    str = colorhead + yy + "-" + MM + "-" + dd + " " + hh + ":" + mm + ":" + ss + "  " + ww + colorfoot;
                    return(str);
                }

                function tick(){
                    var today;
                    today = new Date();
                    document.getElementById("localtime").innerHTML = showLocale(today);
                    window.setTimeout("tick()", 1000);
                }

                tick();
            </script>
        </div>
    </div>
    <div class="top_l">

        <div class="bt">
            <div class="bt_name left">报警数据分析</div>
            <a href="shouye.html" class="fanhui"><i class="iconfont icon-fanhui"></i></a>
        </div>

    </div>

    <div class="top_m "><div class="logo" onclick="goShouYe();"style="cursor:pointer">秦皇岛市智慧交通北斗大数据分析平台</div></div>
</div>

<div class="main">
    <div class="ind mt60">
        <Div style="position: relative">
            <div style="float: left;width:40%; margin:auto">

                <div>
                    <!--onchange="selectXianQu();"-->
                    <div class="mingcheng0" style="display: inline-block;padding-right: 10px;">车辆类型</div>
                    <select  id="companyLavel" name="companyLavel" class="input00" style="width: 20%;height: 50px;margin-right: 40px;">
                        <option class="lsd" value ="">请选择</option>
                        <option class="lsd" value ="TEAM_WXHWYS">危货</option>
                        <option class="lsd" value="TEAM_KY">客运</option>
                        <option class="lsd" value="TEAM_PTHW">普货</option>
                    </select>
                    <div class="mingcheng0" style="display: inline-block;padding-right: 10px;">县区</div>
                    <select id="xianquId" name="xianquId" class="input00" style="width: 20%;height: 50px;">
                        <option class="lsd" value ="">请选择</option>
                        <option class="lsd" value ="130302">海港区</option>
                        <option class="lsd" value="130303">山海关区</option>
                        <option class="lsd" value="130304">北戴河区</option>
                        <option class="lsd" value="130306">抚宁区</option>
                        <option class="lsd" value="130321">青龙县</option>
                        <option class="lsd" value="130322">昌黎县</option>
                        <option class="lsd" value="130324">卢龙县</option>
                        <option class="lsd" value="130371">开发区</option>
                    </select>
                    <a href="javaScript:void(0);" class="chaxun1" onclick="selectXianQu();">查询</a>
                </div>
            </div>

            <div style="padding-right: 85px;float: right;width:40%; margin:auto" data-v-dd3e2e28="" class="el-row">
                <input type="text" class="input_rl " id="timeChangeAge" style="display:none;width:150px;height: 55px; margin-right: 10px;margin-left: 121px;    margin-top: 2px;">
                <select id="timeChangeWeek" class="input00" style="display:none;width:150px;height: 55px; margin-right: 10px;margin-left: -11px;    margin-top: 3px;">
                    <option class="lsd" value ="">请选择</option>
                </select>
                <input type="text" class="input_rl " id="timeChangeDay" style="display:none;width:150px;height: 55px; margin-right: 10px;margin-left: 274px;    margin-top: 2px;">
                <input type="text" class="input_rl " id="timeChange" style="width:150px;height: 55px; margin-right: 10px;margin-left: 274px;    margin-top: 2px;">
                <div data-v-dd3e2e28="" role="radiogroup" class="el-radio-group" style="float: right;">
                    <label onclick="dayOnclick();" data-v-dd3e2e28="" role="radio" tabindex="0" class="el-radio-button el-radio-button--medium"><input type="radio" tabindex="-1" class="el-radio-button__orig-radio" value="prevDay"><span id="day" style="height: 55px;width: 130px;padding-top: 20px;font-size: 20px;" class="el-radio-button__inner">过去一天<!----></span></label>
                    <label onclick="weekOnclick();" data-v-dd3e2e28="" role="radio" tabindex="-1" class="el-radio-button el-radio-button--medium"><input type="radio" tabindex="-1" class="el-radio-button__orig-radio" value="prevWeek"><span id="week" style="height: 55px;width: 130px;padding-top: 20px;font-size: 20px;" class="el-radio-button__inner">过去一周<!----></span></label>
                    <label onclick="monthOnclick();" data-v-dd3e2e28="" role="radio" tabindex="0" class="el-radio-button el-radio-button--medium is-active" aria-checked="true"><input type="radio" tabindex="-1" class="el-radio-button__orig-radio" value="prevMonth"><span id="month" style="height: 55px;width: 130px;padding-top: 20px;font-size: 20px;background-color: darkcyan;" class="el-radio-button__inner">过去一月<!----></span></label>
                </div>
            </div>

        </Div>

        <div class="blank40"></div>

        <div style="display: block;padding-left: 235px;">
            <div class="dh0">
                <ul>
                    <li  style="border-radius: 8px;padding-top: 10px;font-weight: initial;text-align: center;color: white;font-size: 20px;width: 244px;height: 115px;background-image: linear-gradient(160deg, #43B7D8 20%,#0BA89D 80%);"class="cd-popup-trigger1">报警车辆数<span id="baoJingCarNum" style="margin: 0 auto;display: block;margin-top: 13px;width: 50px;height: 50px;padding-top: 10px;font-weight: bold;text-align: center;color: white;font-size: 24px; "></span></li>
                    <li  style="border-radius: 8px;margin-left: 125px;padding-top: 10px;font-weight: initial;text-align: center;color: white;font-size: 20px;width: 244px;height: 115px;background-image: linear-gradient(160deg, #D29277 20%,#ff8b00 80%);" class="cd-popup-trigger1">报警企业数<span id="baoJingQiYeNum" style="margin: 0 auto;display: block;margin-top: 13px;width: 50px;height: 50px;padding-top: 10px;font-weight: bold;text-align: center;color: white;font-size: 24px; "></span></li>
                    <li  style="border-radius: 8px;margin-left: 125px;padding-top: 10px;font-weight: initial;text-align: center;color: white;font-size: 20px;width: 244px;height: 115px;background-image: linear-gradient(160deg, #FA6472 20%,#DF4D5A 80%);" class="cd-popup-trigger2">行驶里程数(千米)<span id="runNum" style="margin: 0 auto;display: block;margin-top: 13px;width: 50px;height: 50px;padding-top: 10px;font-weight: bold;text-align: center;color: white;font-size: 24px; "></span></li>
                    <li  style="border-radius: 8px;margin-left: 125px;padding-top: 10px;font-weight: initial;text-align: center;color: white;font-size: 20px;width: 244px;height: 115px;background-image: linear-gradient(160deg, #D29277 20%,#ff8b00 80%);" class="cd-popup-trigger2">常规报警/处理数量<span id="chuLiNum" style="margin: 0 auto;display: block;margin-top: 13px;width: 50px;height: 50px;padding-top: 10px;font-weight: bold;text-align: center;color: white;font-size: 24px; "></span></li>
                    <li  style="border-radius: 8px;margin-left: 125px;padding-top: 10px;font-weight: initial;text-align: center;color: white;font-size: 20px;width: 244px;height: 115px;background-image: linear-gradient(160deg, #43B7D8 20%,#0BA89D 80%);" class="cd-popup-trigger2">主动安全报警/处理数量<span id="zhuDongAnQuan" style="margin: 0 auto;display: block;margin-top: 13px;width: 50px;height: 50px;padding-top: 10px;font-weight: bold;text-align: center;color: white;font-size: 24px; "></span></li>
                </ul>

            </div>
        </div>


    </div>
</div>


<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/jquery-migrate-1.2.1.min.js"></script>
<script src="js/echarts.min.js"></script>

<script src="js/datedropper.min.js"></script>
<script src="js/timedropper.min.js"></script>
<script>
    $("#pickdate").dateDropper({
        animate: false,
        format: 'Y-m-d',
        maxYear: '2020'
    });

</script>
<script>
    // 参数1 tableID,参数2 div高度，参数3 速度，参数4 tbody中tr几条以上滚动
    /*tableScroll('tableId', 610, 30, 10)
    tableScroll1('tableId1', 610, 30, 10)*/
    var MyMarhq;
    var MyMarhq1;

    function selectSet() {
        var week = ['第1周','第2周','第3周','第4周','第5周','第6周','第7周','第8周','第9周','第10周',
                    '第11周','第12周','第13周','第14周','第15周','第16周','第17周','第18周','第19周','第20周',
                    '第21周','第22周','第23周','第24周','第25周','第26周','第27周','第28周','第29周','第30周',
                    '第31周','第32周','第33周','第34周','第35周','第36周','第37周','第38周','第39周','第40周',
                    '第41周','第42周','第43周','第44周','第45周','第46周','第47周','第48周','第49周','第50周',
                    '第51周','第52周','第53周'];
        for(var i=0;i<week.length;i++){
            $("#timeChangeWeek").append("<option class=\"lsd\" value="+week[i]+">"+week[i]+"</option>");
        }
    }
    selectSet();


    function dayOnclick() {
        //改变背景色
        document.getElementById("timeChangeAge").style.display='none';
        document.getElementById("timeChangeWeek").style.display='none';
        document.getElementById("timeChange").style.display='none';
        document.getElementById("timeChangeDay").style.display='';
        document.getElementById("week").style.backgroundColor='';
        document.getElementById("month").style.backgroundColor='';
        document.getElementById("day").style.backgroundColor='darkcyan';

    }

    function weekOnclick() {
        document.getElementById("timeChangeAge").style.display='';
        document.getElementById("timeChangeWeek").style.display='';
        document.getElementById("timeChange").style.display='none';
        document.getElementById("timeChangeDay").style.display='none';
        document.getElementById("week").style.backgroundColor='darkcyan';
        document.getElementById("month").style.backgroundColor='';
        document.getElementById("day").style.backgroundColor='';
    }
    function monthOnclick() {
        document.getElementById("timeChangeAge").style.display='none';
        document.getElementById("timeChangeWeek").style.display='none';
        document.getElementById("timeChange").style.display='';
        document.getElementById("timeChangeDay").style.display='none';
        document.getElementById("week").style.backgroundColor='';
        document.getElementById("month").style.backgroundColor='darkcyan';
        document.getElementById("day").style.backgroundColor='';
    }

    function getWeek(dt){
        let d1 = new Date(dt);
        let d2 = new Date(dt);
        d2.setMonth(0);
        d2.setDate(1);
        let rq = d1-d2;
        let days = Math.ceil(rq/(24*60*60*1000));
        let num = Math.ceil(days/7);
        return num;
    }

    function selectXianQu() {
        //点击县区
        var xianquId = $("#xianquId").val();
        if(xianquId==""){
            xianquId='130300';
        }
        //获取其他信息
        var carType = $("#companyLavel").val();
        if(carType=="TEAM_WXHWYS"){
            carType = "危货";
        }else if (carType=="TEAM_KY") {
            carType = "客运";
        }else if(carType=="TEAM_PTHW"){
            carType = "普货";
        }
        var dayBackground = document.getElementById("day").style.backgroundColor;
        var weekBackground = document.getElementById("week").style.backgroundColor;
        var monthBackground = document.getElementById("month").style.backgroundColor;
        var time;
        var timeChangeAge;
        var timeChangeWeek;
        var timeType;
        debugger
        if(dayBackground=='darkcyan'){
            var s = $("#timeChangeDay").val();
            if(s==""){
                var curDate = new Date();
                var nowdate = new Date(curDate.getTime() - 24*60*60*1000);
                var y = nowdate.getFullYear();//年
                var m = nowdate.getMonth()+1;//月
                var d = nowdate.getDate();//日
                time = Number(String(y)+String("0"+m)+String(d));
                timeType='DAY';
            }else {
                var timeStr = $("#timeChangeDay").val();
                var str = timeStr.split("-");
                time = Number(str[0]+str[1]+str[2]);
                timeType='DAY';
            }
        }else if (weekBackground=='darkcyan') {
            var s1 = $("#timeChangeAge").val();
            var s2 = $("#timeChangeWeek").val();
            if(s1=="" && s2==""){
                var curDate = new Date();
                var nowdate = new Date(curDate.getTime()-7*24*3600*1000);
                var y = nowdate.getFullYear();//年
                var m = nowdate.getMonth()+1;//月
                var d = nowdate.getDate();//日
                timeChangeWeek = getWeek( new Date(String(y)+"-"+String(m)+"-"+String(d)));
                timeChangeAge = y;
                timeType='WEEK';
            }else {
                timeChangeAge = $("#timeChangeAge").val();
                timeChangeWeek = $("#timeChangeWeek").val();
                timeType='WEEK';
            }
        }else if (monthBackground=='darkcyan'){
            var s4 = $("#timeChange").val();
            if(s4==""){
                var nowdate = new Date();
                nowdate.setMonth(nowdate.getMonth()-1);
                var y = nowdate.getFullYear();//年
                var m = nowdate.getMonth()+1;//月
                time = Number(String(y)+String("0"+m));
                timeType='MONTH';
            }else {
                var timeStr = $("#timeChange").val();
                var str = timeStr.split("-");
                time = Number(str[0]+str[1]);
                timeType='MONTH';
            }
        }
        $.ajax({
            type: "POST",
            url: basePathUrl+"/admin/bigdataFenxiCount/selectXianQu.jsn",
            data: {
                'carType':carType,
                'xianQuId':xianquId,
                'timeCount':time,
                'timeChangeAge':timeChangeAge,
                'timeChangeWeek':timeChangeWeek,
                'timeType':timeType},
            dataType: "json",
            beforeSend: function (XMLHttpRequest) {
                XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
            },
            success: function(data){
                if(data.success){//baoJingCarNum baoJingQiYeNum runNum chuLiNum zhuDongAnQuan
                    debugger
                    var map = data.data;
                    var baoJingCarNum = map.baoJingCarNum;
                    var baoJingQiYeNum = map.baoJingQiYeNum;
                    var runNum = map.runNum;
                    var baoJingNum = map.baoJingNum;
                    var chuLiNum = map.chuLiNum;
                    var zhuDongAnQuan = map.zhuDongAnQuan;
                    var zhuDongChuLiAnQuan = map.zhuDongChuLiAnQuan;

                    document.getElementById("baoJingCarNum").innerText=baoJingCarNum;
                    document.getElementById("baoJingQiYeNum").innerText=baoJingQiYeNum;
                    document.getElementById("runNum").innerText=runNum;
                    document.getElementById("chuLiNum").innerText=baoJingNum+"/"+chuLiNum;
                    document.getElementById("zhuDongAnQuan").innerText=zhuDongAnQuan+"/"+zhuDongChuLiAnQuan;
                }else {
                    if(data.code==1001){
                        location.href = '../../login.html';
                    }else {
                        layer.msg('后台异常', {
                            icon: 5
                        });
                    }
                }
            }
        });
    }

    laydate.render({
        elem: '#timeChangeAge',
        theme: '#884898'
        ,type: 'year'
        ,trigger:'click'
    });
    laydate.render({
        elem: '#timeChange',
        theme: '#884898',
        type: 'month',
        trigger:'click'
    });
    laydate.render({
        elem: '#timeChangeDay',
        theme: '#884898',
        trigger:'click'
    });

    function setCarType() {

        //获取参数
        var queryArgs = getQueryParam();
        var carType = decodeURI(queryArgs.carType);
        //判断是否携带车辆类型查询
        if(carType==""){
            $("#companyLavel").val("");
        }else if (carType=="危货") {
            $("#companyLavel").val("TEAM_WXHWYS");
        }else if (carType=="客运") {
            $("#companyLavel").val("TEAM_KY");
        }else if (carType=="普货") {
            $("#companyLavel").val("TEAM_PTHW");
        }
        //执行查询
        //判断当前的下拉选择是否有值
        var xianQuId =  $("#xianquId").val();
        //默认月份开始查询
        if(xianQuId==""){
            //默认全市 -秦皇岛
            xianQuId = "130300";
        }
        //获取当前时间
        var nowdate = new Date();
        nowdate.setMonth(nowdate.getMonth()-1);
        var y = nowdate.getFullYear();//年
        var m = nowdate.getMonth()+1;//月
        var d = nowdate.getDate();//日
        var timeCount = String(y)+"-"+String("0"+m)+"-"+String(d);
        debugger
        $.ajax({
            type: "POST",
            url: basePathUrl+"/admin/bigdataFenxiCount/setBaoJinInfo.jsn",
            data: {
                'carType':carType,
                'xianQuId':xianQuId,
                'timeCount':timeCount},
            dataType: "json",
            beforeSend: function (XMLHttpRequest) {
                XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
            },
            success: function(data){
                if(data.success){//baoJingCarNum baoJingQiYeNum runNum chuLiNum zhuDongAnQuan
                    debugger
                    var map = data.data;
                    var baoJingCarNum = map.baoJingCarNum;
                    var baoJingQiYeNum = map.baoJingQiYeNum;
                    var runNum = map.runNum;
                    var baoJingNum = map.baoJingNum;
                    var chuLiNum = map.chuLiNum;
                    var zhuDongAnQuan = map.zhuDongAnQuan;
                    var zhuDongChuLiAnQuan = map.zhuDongChuLiAnQuan;

                    document.getElementById("baoJingCarNum").innerText=baoJingCarNum;
                    document.getElementById("baoJingQiYeNum").innerText=baoJingQiYeNum;
                    document.getElementById("runNum").innerText=runNum;
                    document.getElementById("chuLiNum").innerText=baoJingNum+"/"+chuLiNum;
                    document.getElementById("zhuDongAnQuan").innerText=zhuDongAnQuan+"/"+zhuDongChuLiAnQuan;
                }else {
                    if(data.code==1001){
                        location.href = '../../login.html';
                    }else {
                        layer.msg('后台异常', {
                            icon: 5
                        });
                    }
                }
            }
        });
    }
    setCarType();



    function tableScroll(tableid, hei, speed, len) {
        clearTimeout(MyMarhq);
        $('#' + tableid).parent().find('.tableid_').remove()
        $('#' + tableid).parent().prepend(
            '<table class="tableid_"><thead>' + $('#' + tableid + ' thead').html() + '</thead></table>'
        ).css({
            'position': 'relative',
            'overflow': 'hidden',
            'height': hei + 'px'
        })
//    $(".tableid_").find('th').each(function(i) {
//        $(this).css('width', $('#' + tableid).find('th:eq(' + i + ')').width());
//    });
        $(".tableid_").css({
            'position': 'absolute',
            'top': 0,
            'left': 0,
            'z-index': 9
        })
        $('#' + tableid).css({
            'position': 'absolute',
            'top': 0,
            'left': 0,
            'z-index': 1
        })

        if ($('#' + tableid).find('tbody tr').length > len) {
            $('#' + tableid).find('tbody').html($('#' + tableid).find('tbody').html() + $('#' + tableid).find('tbody').html());
            $(".tableid_").css('top', 0);
            $('#' + tableid).css('top', 0);
            var tblTop = 0;
            var outerHeight = $('#' + tableid).find('tbody').find("tr").outerHeight();

            function Marqueehq() {
                if (tblTop <= -outerHeight * $('#' + tableid).find('tbody').find("tr").length) {
                    tblTop = 0;
                } else {
                    tblTop -= 1;
                }
                $('#' + tableid).css('margin-top', tblTop + 'px');
                clearTimeout(MyMarhq);
                MyMarhq = setTimeout(function() {
                    Marqueehq()
                }, speed);
            }

            MyMarhq = setTimeout(Marqueehq, speed);
            $('#' + tableid).find('tbody').hover(function() {
                clearTimeout(MyMarhq);
            }, function() {
                clearTimeout(MyMarhq);
                if ($('#' + tableid).find('tbody tr').length > len) {
                    MyMarhq = setTimeout(Marqueehq, speed);
                }
            })
        }

    }

    function tableScroll1(tableid, hei, speed, len) {
        clearTimeout(MyMarhq1);
        $('#' + tableid).parent().find('.tableid_').remove()
        $('#' + tableid).parent().prepend(
            '<table class="tableid_"><thead>' + $('#' + tableid + ' thead').html() + '</thead></table>'
        ).css({
            'position': 'relative',
            'overflow': 'hidden',
            'height': hei + 'px'
        })
//    $(".tableid_").find('th').each(function(i) {
//        $(this).css('width', $('#' + tableid).find('th:eq(' + i + ')').width());
//    });
        $(".tableid_").css({
            'position': 'absolute',
            'top': 0,
            'left': 0,
            'z-index': 9
        })
        $('#' + tableid).css({
            'position': 'absolute',
            'top': 0,
            'left': 0,
            'z-index': 1
        })

        if ($('#' + tableid).find('tbody tr').length > len) {
            $('#' + tableid).find('tbody').html($('#' + tableid).find('tbody').html() + $('#' + tableid).find('tbody').html());
            $(".tableid_").css('top', 0);
            $('#' + tableid).css('top', 0);
            var tblTop = 0;
            var outerHeight = $('#' + tableid).find('tbody').find("tr").outerHeight();

            function Marqueehq() {
                if (tblTop <= -outerHeight * $('#' + tableid).find('tbody').find("tr").length) {
                    tblTop = 0;
                } else {
                    tblTop -= 1;
                }
                $('#' + tableid).css('margin-top', tblTop + 'px');
                clearTimeout(MyMarhq1);
                MyMarhq1 = setTimeout(function() {
                    Marqueehq()
                }, speed);
            }

            MyMarhq1 = setTimeout(Marqueehq, speed);
            $('#' + tableid).find('tbody').hover(function() {
                clearTimeout(MyMarhq1);
            }, function() {
                clearTimeout(MyMarhq1);
                if ($('#' + tableid).find('tbody tr').length > len) {
                    MyMarhq1 = setTimeout(Marqueehq, speed);
                }

            })
        }

    }
</script>


<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('aa1'));
    // 指定图表的配置项和数据
    option = {

        tooltip : {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },

        legend: {
            data:['平均转弯速度','左转弯速度','右转弯速度'],
            orient: 'vertical',
            top: '0%',
            right: '0%',
            icon: "circle",
            textStyle: {
                color: "#fff",
                fontSize: 14,

            },
        },

        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                boundaryGap : false,

                data : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
                axisLabel : {interval:0},
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',
                        width:1,//这里是为了突出显示加上的
                    }
                }

            }
        ],
        yAxis : [
            {
                type : 'value',
                type: 'value',
                min: 0,
                max: 150,
                splitLine:{      //去掉背景水平网格线
                    show:false
                },
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',
                        width:1,//这里是为了突出显示加上的
                    }
                }
            }
        ],
        series : [
            {
                name:'平均转弯速度',
                type:'line',
                stack: '平均转弯速度',
                itemStyle: {
                    normal: {
                        color: "#006AD4",
                        lineStyle: {
                            color: "#006AD4"
                        }}
                },


                data:[68, 100, 90, 124, 119, 95, 89,79, 115, 88, 84, 90]
            },
            {
                name:'左转弯速度',
                type:'line',
                stack: '左转弯速度',
                itemStyle: {
                    normal: {
                        color: "#F3891B",
                        lineStyle: {
                            color: "#F3891B"
                        }}
                },

                data:[120,116, 78, 140, 123, 99,84, 93, 125, 111, 93, 136]
            },
            {
                name:'右转弯速度',
                type:'line',
                stack: '右转弯速度',
                itemStyle: {
                    normal: {
                        color: "#009895",
                        lineStyle: {
                            color: "#009895"
                        }}
                },

                data:[134, 90, 123, 94,116, 87, 105, 99, 101,101, 117, 90]
            },

        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>

<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('aa2'));
    // 指定图表的配置项和数据
    option = {

        tooltip : {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },

        legend: {
            data:['急加速','急减速'],
            orient: 'vertical',
            top: '0%',
            right: '0%',
            icon: "circle",
            textStyle: {
                color: "#fff",
                fontSize: 14,

            },
        },

        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                boundaryGap : false,

                data : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
                axisLabel : {interval:0},
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',

                        width:1,//这里是为了突出显示加上的
                    }
                }

            }
        ],
        yAxis : [
            {
                type : 'value',
                type: 'value',
                min: 0,
                max: 150,
                splitLine:{      //去掉背景水平网格线
                    show:false
                },
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',
                        width:1,//这里是为了突出显示加上的
                    }
                }
            }
        ],
        series : [
            {
                name:'急加速',
                type:'line',
                stack: '急加速',
                itemStyle: {
                    normal: {
                        color: "#009895",
                        lineStyle: {
                            color: "#009895"
                        }}
                },


                data:[68, 100, 90, 124, 119, 95, 89,79, 115, 88, 84, 90]
            },
            {
                name:'急减速',
                type:'line',
                stack: '急减速',
                itemStyle: {
                    normal: {
                        color: "#F3891B",
                        lineStyle: {
                            color: "#F3891B"
                        }}
                },

                data:[120,116, 78, 140, 123, 99,84, 93, 125, 111, 93, 136]
            },


        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>



<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('aa3'));
    // 指定图表的配置项和数据
    option = {

        tooltip : {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },

        legend: {
            data:['高速平均速度','平均速度'],
            orient: 'vertical',
            top: '0%',
            right: '0%',
            icon: "circle",
            textStyle: {
                color: "#fff",
                fontSize: 14,

            },
        },

        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                boundaryGap : false,

                data : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
                axisLabel : {interval:0},
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',
                        width:1,//这里是为了突出显示加上的
                    }
                }

            }
        ],
        yAxis : [
            {
                type : 'value',
                type: 'value',
                min: 0,
                max: 150,
                splitLine:{      //去掉背景水平网格线
                    show:false
                },
                axisLine:{
                    lineStyle:{
                        color:'#2b8a95',
                        width:1,//这里是为了突出显示加上的
                    }
                }
            }
        ],
        series : [
            {
                name:'高速平均速度',
                type:'line',
                stack: '高速平均速度',
                itemStyle: {
                    normal: {
                        color: "#009895",
                        lineStyle: {
                            color: "#009895"
                        }}
                },


                data:[68, 100, 90, 124, 119, 95, 89,79, 115, 88, 84, 90]
            },
            {
                name:'平均速度',
                type:'line',
                stack: '平均速度',
                itemStyle: {
                    normal: {
                        color: "#F3891B",
                        lineStyle: {
                            color: "#F3891B"
                        }}
                },

                data:[120,116, 78, 140, 123, 99,84, 93, 125, 111, 93, 136]
            },


        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>

<script type="text/javascript" >
    // //初始化数据
    // $(document).ready(function(){
    //     //获取参数
    //     var queryArgs = getQueryParam();
    //     queryArgs.carType = decodeURI(queryArgs.carType);
    //     initLayDate(queryArgs.searchTime);
    //     //获取常跑省份
    //     getOftenRunProvince(queryArgs);
    //     //获取跨省率
    //     getPassProvinceRate(queryArgs);
    //     //常跑城市
    //     getOftenRunCity(queryArgs);
    //     //常跑路线
    //     getOftenRunRoute(queryArgs);
    // });
    // //初始化日期
    // function initLayDate(searchTime) {
    //     laydate.render({
    //         elem: '#searchDate',
    //         theme: '#884898',
    //         value: searchTime.substring(0,7),
    //         type: 'month',
    //         btns: ['clear', 'confirm'],
    //         done: function(value, date, endDate){
    //             var queryArgs = getQueryParam();
    //             queryArgs.carType = decodeURI(queryArgs.carType);
    //             queryArgs.searchTime = value+"-01";
    //             debugger;
    //             //车辆去向分布
    //             getOftenRunProvince(queryArgs);
    //             getPassProvinceRate(queryArgs);
    //             getOftenRunCity(queryArgs);
    //             getOftenRunRoute(queryArgs);
    //         }
    //     });
    // }
    //
    // function getOftenRunProvince(queryArgs) {
    //     $.ajax({
    //         type: "POST",
    //         url: basePathUrl+"/admin/carMonthDirectionDistribution/getOftenRunProvince.jsn",
    //         data: {'queryObj.carType':queryArgs.carType,'queryObj.countTime':queryArgs.searchTime,
    //             'queryObj.countType':'MONTH'},
    //         dataType: "json",
    //         beforeSend: function (XMLHttpRequest) {
    //             XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
    //         },
    //         success: function(data){
    //             if(data.success){
    //                 var html = "";
    //                 if(data.data.length==0){
    //                     html +="<span class=\"d1\">NO1 无</span>\n" +
    //                         "                                          <span class=\"d22\">NO2 无</span>\n" +
    //                         "                                          <span class=\"d33\">NO3 无</span>\n" +
    //                         "                                          <span class=\"d3\">NO4 无</span>\n" +
    //                         "                                          <span class=\"d2\">NO5 无</span>";
    //                 }else {
    //                     for(var i =0 ;i<data.data.length;i++){
    //                         if(i==1){
    //                             html += " <span class=\"d22\">NO"+(i+1)+" "+data.data[i].provinceName.substring(0,3)+"</span>";
    //                         }else if(i==2){
    //                             html += " <span class=\"d33\">NO"+(i+1)+" "+data.data[i].provinceName.substring(0,3)+"</span>";
    //                         }
    //                         else if(i==3){
    //                             html += " <span class=\"d3\">NO"+(i+1)+" "+data.data[i].provinceName.substring(0,3)+"</span>";
    //                         }else if( i== 4){
    //                             html += " <span class=\"d2\">NO"+(i+1)+" "+data.data[i].provinceName.substring(0,3)+"</span>";
    //                         }else {
    //                             html += " <span class=\"d1\">NO"+(i+1)+" "+data.data[i].provinceName.substring(0,3)+"</span>";
    //                         }
    //                     }
    //                 }
    //                 $("#oftenRunProvince").html(html);
    //             }else {
    //                 if(data.code==1001){
    //                     location.href = '../../login.html';
    //                 }else {
    //                     layer.msg('后台异常', {
    //                         icon: 5
    //                     });
    //                 }
    //             }
    //         }
    //     });
    // }
    //
    // function getPassProvinceRate(queryArgs) {
    //     $.ajax({
    //         type: "POST",
    //         url: basePathUrl+"/admin/bigdataPassProvinceRate/getPassProvinceRate.jsn",
    //         data: {'queryObj.carType':queryArgs.carType,'queryObj.countTime':queryArgs.searchTime,
    //             'queryObj.countType':'MONTH'},
    //         dataType: "json",
    //         beforeSend: function (XMLHttpRequest) {
    //             XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
    //         },
    //         success: function(data){
    //             if(data.success){
    //                 var html = "";
    //                 if(typeof(data.data) == 'undefined'){
    //                     html = "0<em>%</em><i class=\"iconfont icon-jiantouarrow505 ls\"></i>";
    //                 }else {
    //                     if(data.data.passProvinceRateFlag=='1'){
    //                         html = parseInt(data.data.passProvinceRate*100)+"<em>%</em><!--<i class=\"iconfont icon-jiantouarrow499 hs\"></i>-->";
    //                     }else {
    //                         html = parseInt(data.data.passProvinceRate*100)+"<em>%</em><!--<i class=\"iconfont icon-jiantouarrow505 ls\"></i>-->";
    //                     }
    //                 }
    //                 $("#passProvinceRate").html(html);
    //             }else {
    //                 if(data.code==1001){
    //                     location.href = '../../login.html';
    //                 }else {
    //                     layer.msg('后台异常', {
    //                         icon: 5
    //                     });
    //                 }
    //             }
    //         }
    //     });
    // }
    //
    // function getOftenRunCity(queryArgs) {
    //     $.ajax({
    //         type: "POST",
    //         url: basePathUrl+"/admin/carMonthDirectionDistribution/getOftenRunCity.jsn",
    //         data: {'queryObj.carType':queryArgs.carType,'queryObj.countTime':queryArgs.searchTime,
    //             'queryObj.countType':'MONTH'},
    //         dataType: "json",
    //         beforeSend: function (XMLHttpRequest) {
    //             XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
    //         },
    //         success: function(data){
    //             if(data.success){
    //                 var html = "";
    //                 if(data.data.length==0){
    //                     html+="   <tr>\n" ;
    //                     html+= "                    <td><em >无</em></td>\n" ;
    //                     html+=   "                    <td>无</td>\n" +
    //                         "                    <td>无</td>\n" +
    //                         "                    </tr>"
    //                 }else {
    //                     for(var i = 0;i<data.data.length;i++){
    //                         html+="   <tr>\n" ;
    //                         if(i==0){
    //                             html+= "                    <td  style=\"width: 30%\"><em class=\"ph1\">"+(i+1)+"</em></td>\n" ;
    //                         }else if(i==1) {
    //                             html+= "                    <td  style=\"width: 30%\"><em class=\"ph2\">"+(i+1)+"</em></td>\n" ;
    //                         }else if(i==2){
    //                             html+= "                    <td  style=\"width: 30%\"><em class=\"ph3\">"+(i+1)+"</em></td>\n" ;
    //                         }else {
    //                             html+= "                    <td  style=\"width: 30%\"><em class=\"ph4\">"+(i+1)+"</em></td>\n" ;
    //                         }
    //                         html+=   "                    <td style=\"width: 35%\" onclick=stopCarList('"+data.data[i].cityName+"','"+queryArgs.searchTime+"')>"+data.data[i].cityName+"</td>\n" +
    //                             "                    <td style=\"width: 35%\">"+data.data[i].carNum+"次</td>\n" +
    //                             "                    </tr>"
    //                     }
    //                 }
    //                 $("#oftenRunCity").html(html);
    //                 tableScroll('tableId', 610, 30, 10);
    //             }else {
    //                 if(data.code==1001){
    //                     location.href = '../../login.html';
    //                 }else {
    //                     layer.msg('后台异常', {
    //                         icon: 5
    //                     });
    //                 }
    //             }
    //         }
    //     });
    // }
    //
    // function getOftenRunRoute(queryArgs) {
    //     $.ajax({
    //         type: "POST",
    //         url: basePathUrl+"/admin/oftenrunRouteMonthCount/getOftenRunRoute.jsn",
    //         data: {'queryObj.carType':queryArgs.carType,'queryObj.countTime':queryArgs.searchTime,
    //             'queryObj.countType':'MONTH'},
    //         dataType: "json",
    //         beforeSend: function (XMLHttpRequest) {
    //             XMLHttpRequest.setRequestHeader("access-token", getStorage("access_token"));
    //         },
    //         success: function(data){
    //             if(data.success){
    //                 var html = "";
    //                 if(data.data.length==0){
    //                     html+="   <tr>\n" ;
    //                     html+= "                    <td><em >无</em></td>\n" ;
    //                     html+=   "                    <td>无</td>\n" ;
    //                     html+=   "                    <td>无</td>\n" +
    //                         /*  "                    <td>无</td>\n" +*/
    //                         "                    </tr>"
    //                 }else {
    //                     for(var i = 0;i<data.data.length;i++){
    //                         html+="   <tr>\n" ;
    //                         if(i==0){
    //                             html+= "                    <td><em class=\"ph1\">"+(i+1)+"</em></td>\n" ;
    //                         }else if(i==1) {
    //                             html+= "                    <td><em class=\"ph2\">"+(i+1)+"</em></td>\n" ;
    //                         }else if(i==2){
    //                             html+= "                    <td><em class=\"ph3\">"+(i+1)+"</em></td>\n" ;
    //                         }else {
    //                             html+= "                    <td><em class=\"ph4\">"+(i+1)+"</em></td>\n" ;
    //                         }
    //                         html+=   "                    <td onclick=runRouteCarList('"+data.data[i].runRoute+"','"+queryArgs.searchTime+"')>"+data.data[i].runRoute+"</td>\n" +
    //                             /*"                    <td>"+data.data[i].sumMileage+"Km</td>\n" +*/
    //                             "                    <td>"+data.data[i].runNum+"次</td>\n" +
    //                             "                    </tr>"
    //                     }
    //                 }
    //                 $("#oftenRunRoute").html(html);
    //                 tableScroll1('tableId1', 610, 30, 10)
    //             }else {
    //                 if(data.code==1001){
    //                     location.href = '../../login.html';
    //                 }else {
    //                     layer.msg('后台异常', {
    //                         icon: 5
    //                     });
    //                 }
    //             }
    //         }
    //     });
    // }
    //
    // function runRouteCarList(s,c) {
    //     var queryArgs = getQueryParam();
    //     window.location.href="RunRouteCarList.html?runRoute="+encodeURI(s)+"&searchTime="+c+"&carType="+queryArgs.carType+"&page=1&limit=13";
    // }
    // function stopCarList(cityName,searchTime) {
    //     var queryArgs = getQueryParam();
    //     window.location.href="StopCarList.html?cityName="+encodeURI(cityName)+"&searchTime="+searchTime+"&carType="+queryArgs.carType+"&page=1&limit=13";
    // }
    // function goShouYe() {
    //     window.location.href = "shouye.html";
    // }

</script>
</body>
</html>
